defaults:
  icon: "mdi:blank"
  accuracy_decimals: "0"
  target: "Kessel"
  interval: "never"
  unit: ""
  scaler: "1.0"

sensor:
  - platform: template
    name: ${property}
    id: ${property}
    icon: ${icon}
    unit_of_measurement: ${unit}
    accuracy_decimals: ${accuracy_decimals}
    update_interval: ${interval}
    lambda: |-
        queueRequest(${target}, propertyManager.getPropertyAddress("k${property}"));
        return {};

esphome:
  on_boot:
    priority: -100
    then:
      - lambda: |-
          CallbackHandler::instance().addCallback(std::make_pair(${target},propertyManager.getPropertyAddress("k${property}")),[](const SimpleVariant& value) {
            publishValue(id(${property}), value);
          });               
          queueRequest(${target}, propertyManager.getPropertyAddress("k${property}"));
